<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>SWEngine: PerformanceCheck Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SWEngine
   &#160;<span id="projectnumber">Wersja 1.009</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_performance_check-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PerformanceCheck Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Klasa służy do pomiaru wydajności poszczególnych fragmentów kodu.  
 <a href="class_performance_check.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_performance_check_8h_source.html">PerformanceCheck.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae43454fddd8ee9c00dbb3920aea925ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_performance_check.html#ae43454fddd8ee9c00dbb3920aea925ee">startPerformanceCheck</a> (unsigned int index)</td></tr>
<tr class="memdesc:ae43454fddd8ee9c00dbb3920aea925ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funkcja wywoływana na poczatku wykonywania zadania. Zapisuje aktualny czas.  <a href="#ae43454fddd8ee9c00dbb3920aea925ee">More...</a><br /></td></tr>
<tr class="separator:ae43454fddd8ee9c00dbb3920aea925ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a394a5716f6d78153e10c30cb8a7a1cbb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_performance_check.html#a394a5716f6d78153e10c30cb8a7a1cbb">endPerformanceCheck</a> (unsigned int index)</td></tr>
<tr class="memdesc:a394a5716f6d78153e10c30cb8a7a1cbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funkcja wywoływana pod koniec wykonywania zadania. Aktualizuje wszystkie statystyki.  <a href="#a394a5716f6d78153e10c30cb8a7a1cbb">More...</a><br /></td></tr>
<tr class="separator:a394a5716f6d78153e10c30cb8a7a1cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eb66eb5980058779df84cd2e2a92c66"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1eb66eb5980058779df84cd2e2a92c66"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>clear</b> ()</td></tr>
<tr class="separator:a1eb66eb5980058779df84cd2e2a92c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a153184490057f9372b25441404701d11"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_performance_check.html#a153184490057f9372b25441404701d11">registerTaskName</a> (const char *taskName)</td></tr>
<tr class="memdesc:a153184490057f9372b25441404701d11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rejestruje nazwę zadania do pomiaru wydajności.  <a href="#a153184490057f9372b25441404701d11">More...</a><br /></td></tr>
<tr class="separator:a153184490057f9372b25441404701d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03400964a338937109498257bf514337"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_performance_check.html#a03400964a338937109498257bf514337">printPerformanceStatisticsAsync</a> (const std::string &amp;outputFile)</td></tr>
<tr class="memdesc:a03400964a338937109498257bf514337"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronicznie drukuje statystyki do podanego pliku.  <a href="#a03400964a338937109498257bf514337">More...</a><br /></td></tr>
<tr class="separator:a03400964a338937109498257bf514337"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:aef66f651595647a9b4c7b90513cfef91"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aef66f651595647a9b4c7b90513cfef91"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_performance_check.html#aef66f651595647a9b4c7b90513cfef91">print</a> (const std::string &amp;outputFile, std::vector&lt; <a class="el" href="struct__performance__data.html">_performance_data</a> &gt; data_copy)</td></tr>
<tr class="memdesc:aef66f651595647a9b4c7b90513cfef91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Faktyczna funkcja drukująca. <br /></td></tr>
<tr class="separator:aef66f651595647a9b4c7b90513cfef91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a9d5f5160bd7bbc54b26e4e6627151846"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9d5f5160bd7bbc54b26e4e6627151846"></a>
std::vector&lt; <a class="el" href="struct__performance__data.html">_performance_data</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_performance_check.html#a9d5f5160bd7bbc54b26e4e6627151846">performance_datas</a></td></tr>
<tr class="memdesc:a9d5f5160bd7bbc54b26e4e6627151846"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zapisane dane na temat poszczególnych zadań, dla których mierzymy wydajność. <br /></td></tr>
<tr class="separator:a9d5f5160bd7bbc54b26e4e6627151846"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Klasa służy do pomiaru wydajności poszczególnych fragmentów kodu. </p>
<p>Sposób użycia klasy: Są dwie metody. Można normalnie korzystać z klasy jak ze zwykłego obiektu i wywoływać jej funkcje lub można użyć zamiast tego specjalnie zdefiniowanych makr. W drugim przypadku kod służący do pomiaru będzie załączany jedynie w przypadku zdefiniowania makra PERFORMANCE_CHECK. W innym razie wszystkie użyte makra będą rozwijały się do pustych instrukcji.</p>
<ol type="1">
<li>Normalne używanie klasy. Aby użyć klasy należy zarejestrować nazwy wybranych zadań. Robi się to funkcją registerTaskName. Funkcja zwraca identyfikator, który potem posłuży do wywoływania pomiarów dla tego zadania.</li>
</ol>
<p>Każde zadanie musi być otoczone wywołaniami funkcji startPerformanceCheck i endPerformanceCheck z podaniem indeksu zadania.</p>
<p>Aby wypisać wyniki, należy wywołać funkcję printPerformanceStatisticsAsync podając nazwę pliku, do którego statystyki zostaną wysłane. Funkcja działa asynchronicznie, więc nie czeka się aż plik zostanie zapisany, tylko wykonuje kod silnika dalej.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include PerformanceCheck.h</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> taskID;</div>
<div class="line"></div>
<div class="line">myClass::myClass()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="class_performance_check.html">PerformanceCheck</a> stats;</div>
<div class="line">    taskID = stats.<a class="code" href="class_performance_check.html#a153184490057f9372b25441404701d11">registerTaskName</a>(<span class="stringliteral">&quot;task_name&quot;</span>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> timer()</div>
<div class="line">{</div>
<div class="line">    stats.<a class="code" href="class_performance_check.html#ae43454fddd8ee9c00dbb3920aea925ee">startPerformanceCheck</a>( taskID );</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Tutaj kod, którego wydajność mierzymy</span></div>
<div class="line"></div>
<div class="line">    stats.<a class="code" href="class_performance_check.html#a394a5716f6d78153e10c30cb8a7a1cbb">endPerformanceCheck</a>( taskID );</div>
<div class="line">}</div>
</div><!-- fragment --><ol type="1">
<li>Użytkowanie klasy z użyciem makr. Aby użyć klasy należy zdefiniować makro PERFORMANCE_CHECK przed zaincludowaniem nagłówka. Makro to robi dwie rzeczy:</li>
</ol>
<ul>
<li>włącza definicje pozostałych potrzebnych makr</li>
<li>załącza kod tworzący obiekt tej klasy (obiekt jest zmienną globalną w pliku PerformanceCheck.cpp)</li>
</ul>
<p>Następnie trzeba zadeklarować chęć użycia pomiaru dla jakiegoś zadania wywołująć makro USE_PERFORMANCE_CHECK i podając nazwę zadania. Makro powinno zostać wywołane w takim miejscu, jakbyśmy deklarowali zmienną, która ma być dostępna w miejscach, gdzie będziemy robili pomiary czasu. (Ponieważ to robi niejawnie to makro - definiuje taką zmienną).</p>
<p>Nazwa powinna być pojedynczym ciągiem znaków. NIE może być w cudzysłowie.</p>
<p>Zadanie musi zostać zarejestrowane przed użyciem makr do pomiaru poprzez wywołanie REGISTER_PERFORMANCE_TASK z podaniem nazwy zadania, która zostanie potem zapisana w pliku.</p>
<p>W miejscu pomiaru należy wywołać parami makra START_PERFORMANCE_CHECK i END_PERFORMANCE_CHECK podając w parametrze taki sam ciąg znaków, jakim zostało zarejestrowane zadanie.</p>
<p>Wypisanie statystyk robi się za pomocą makra PRINT_STATISTICS i podaje nazwę pliku. </p><dl class="section attention"><dt>Attention</dt><dd>Nazwa pliku jest w cudzysłowie w przeciwieństwie do innych miejsc, w których wywołuje się makra.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#include PerformanceCheck.h</span></div>
<div class="line"></div>
<div class="line">USE_PERFORMANCE_CHECK( TASK_NAME )</div>
<div class="line"></div>
<div class="line">myClass::myClass()</div>
<div class="line">{</div>
<div class="line">    REGISTER_PERFORMANCE_TASK( TASK_NAME )</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> timer()</div>
<div class="line">{</div>
<div class="line">    START_PERFORMANCE_CHECK( TASK_NAME )</div>
<div class="line"></div>
<div class="line"><span class="comment">// Tutaj kod, którego wydajność mierzymy</span></div>
<div class="line"></div>
<div class="line">    END_PERFORMANCE_CHECK( TASK_NAME )</div>
<div class="line">}</div>
</div><!-- fragment --> </div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a394a5716f6d78153e10c30cb8a7a1cbb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PerformanceCheck::endPerformanceCheck </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funkcja wywoływana pod koniec wykonywania zadania. Aktualizuje wszystkie statystyki. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Indeks zadania w tablicy performance_datas. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a03400964a338937109498257bf514337"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PerformanceCheck::printPerformanceStatisticsAsync </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>outputFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asynchronicznie drukuje statystyki do podanego pliku. </p>
<p>Ponieważ statystyki są zapisywane w oddzielnym wątku, to zbyt szybkie wywołania tej funkcji po sobie mogą spowodować, że nałożą się one na siebie.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">outputFile</td><td>Plik, do którego mają trafić statystyki. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a153184490057f9372b25441404701d11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int PerformanceCheck::registerTaskName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>taskName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rejestruje nazwę zadania do pomiaru wydajności. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">taskName</td><td>Nazwa zadania </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zwraca identyfikator zadania, którym można się odwoływać potem do funkcji mierzących czas. </dd></dl>

</div>
</div>
<a class="anchor" id="ae43454fddd8ee9c00dbb3920aea925ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PerformanceCheck::startPerformanceCheck </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funkcja wywoływana na poczatku wykonywania zadania. Zapisuje aktualny czas. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Indeks zadania w tablicy performance_datas. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>D:/ProgramyVS/SWEngine/EngineCode/EngineCore/EngineHelpers/<a class="el" href="_performance_check_8h_source.html">PerformanceCheck.h</a></li>
<li>D:/ProgramyVS/SWEngine/EngineCode/EngineCore/EngineHelpers/PerformanceCheck.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Oct 10 2015 22:58:03 for SWEngine by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
